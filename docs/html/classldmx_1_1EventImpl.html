<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>LDMX Software: ldmx::EventImpl Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><b>ldmx</b>::<a class="el" href="classldmx_1_1EventImpl.html">EventImpl</a>
  </div>
</div>
<div class="contents">
<h1>ldmx::EventImpl Class Reference</h1><!-- doxytag: class="ldmx::EventImpl" --><!-- doxytag: inherits="ldmx::Event" -->
<p>Implements an event buffer system for storing event data.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;<a class="el" href="EventImpl_8h_source.html">EventImpl.h</a>&gt;</code></p>

<p><a href="classldmx_1_1EventImpl-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classldmx_1_1EventImpl.html#a49fd263362fed7aa7bf05a0e2d15e285">EventImpl</a> (const std::string &amp;passName)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classldmx_1_1EventImpl.html#a63af47e9eb11d871afe5f113e352ef86">~EventImpl</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual const <a class="el" href="classldmx_1_1EventHeader.html">EventHeader</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classldmx_1_1EventImpl.html#a445f246f88ccf5c568b4dc0a39d2ce9f">getEventHeader</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classldmx_1_1EventImpl.html#a233c96879bfb1cfa587044074f382657">add</a> (const std::string &amp;collectionName, TClonesArray *tca)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classldmx_1_1EventImpl.html#a0c3dcf864b50a15ac379ce408a0cf390">add</a> (const std::string &amp;name, TObject *obj)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classldmx_1_1EventImpl.html#a113c12218ae9d3849cd43ff16b1ea8dc">addToCollection</a> (const std::string &amp;name, const TObject &amp;obj)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classldmx_1_1EventHeader.html">EventHeader</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classldmx_1_1EventImpl.html#a492d6593e4687348368dc93aefb30941">getEventHeaderMutable</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classldmx_1_1EventImpl.html#ae6f1975e354122aac268164fa796977b">setInputTree</a> (TTree *tree)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classldmx_1_1EventImpl.html#a242064e84381eb6aa90a06f79404bb92">setOutputTree</a> (TTree *tree)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">TTree *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classldmx_1_1EventImpl.html#a81f19c8688dc8929a333da06c2f3db8b">createTree</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classldmx_1_1EventImpl.html#a6a9b5c57b33cc8e5014ff9a63e407c84">makeBranchName</a> (const std::string &amp;collectionName, const std::string &amp;passName) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classldmx_1_1EventImpl.html#af5a17287b4e91ca7fd41cf25394e9b94">makeBranchName</a> (const std::string &amp;collectionName) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classldmx_1_1EventImpl.html#a340a707ad6fdcec1d6abed935c6398bb">nextEvent</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classldmx_1_1EventImpl.html#a48786bb755050e7f02c11343abe1dece">beforeFill</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classldmx_1_1EventImpl.html#afd38a1a0a8211bb85d140badf982160d">Clear</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classldmx_1_1EventImpl.html#abb3cff0a3cf57f48af8061ed3584e39a">onEndOfEvent</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classldmx_1_1EventImpl.html#ae57007eaa7f3c2576e4764f45909e756">onEndOfFile</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classldmx_1_1EventImpl.html#a0f623507858019b37b606554534185af">getPassName</a> ()</td></tr>
<tr><td colspan="2"><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual const TObject *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classldmx_1_1EventImpl.html#acb3dacb77bff7e3a01996a4b256ee8b1">getReal</a> (const std::string &amp;collectionName, const std::string &amp;passName, bool mustExist) const </td></tr>
<tr><td colspan="2"><h2>Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classldmx_1_1EventImpl.html#ab4df13f077cecf5f94b95f543eef3e50">passName_</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::map&lt; std::string, TBranch * &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classldmx_1_1EventImpl.html#abca186bc4f2af71cae867d45b4936dbd">branches_</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::map&lt; std::string, TObject * &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classldmx_1_1EventImpl.html#a3fce3d6d953cc2eab6ec3a3a6c7f6654">objects_</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::map&lt; std::string, TObject * &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classldmx_1_1EventImpl.html#abdfbb6c26b79879ed10199f3a313ae09">objectsOwned_</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::vector&lt; TBranch * &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classldmx_1_1EventImpl.html#a920a591416867a58b3aa14a258e7455d">newBranches_</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::string &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classldmx_1_1EventImpl.html#a396a55cadee5be28915ceae4baa01c17">branchNames_</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::set&lt; std::string &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classldmx_1_1EventImpl.html#a014ff80a168d22e5d017c893b0a0a08b">branchesFilled_</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::map&lt; std::string, <br class="typebreak"/>
std::string &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classldmx_1_1EventImpl.html#a974e13fa2fe47ec9215242aca488f08e">knownLookups_</a></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Implements an event buffer system for storing event data. </p>
<dl class="note"><dt><b>Note:</b></dt><dd><a class="el" href="classldmx_1_1Event.html" title="Defines an interface for accessing event data.">Event</a> data is stored in ROOT trees and branches, which can be added on the fly. The same TClonesArray and TObject pointers should be used to add objects and collections from user code, as the class will add a data structure for new ones automatically. </dd></dl>

<p>Definition at line <a class="el" href="EventImpl_8h_source.html#l00037">37</a> of file <a class="el" href="EventImpl_8h_source.html">EventImpl.h</a>.</p>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a49fd263362fed7aa7bf05a0e2d15e285"></a><!-- doxytag: member="ldmx::EventImpl::EventImpl" ref="a49fd263362fed7aa7bf05a0e2d15e285" args="(const std::string &amp;passName)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ldmx::EventImpl::EventImpl </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>passName</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Class constructor. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>passName</em>&nbsp;</td><td>The default pass name for adding event data. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="EventImpl_8cxx_source.html#l00016">16</a> of file <a class="el" href="EventImpl_8cxx_source.html">EventImpl.cxx</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00016"></a>00016                                                      :
<a name="l00017"></a>00017         <a class="code" href="classldmx_1_1EventImpl.html#ab4df13f077cecf5f94b95f543eef3e50">passName_</a>(thePassName) {
<a name="l00018"></a>00018     }

</pre></div></p>

</div>
</div>
<a class="anchor" id="a63af47e9eb11d871afe5f113e352ef86"></a><!-- doxytag: member="ldmx::EventImpl::~EventImpl" ref="a63af47e9eb11d871afe5f113e352ef86" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ldmx::EventImpl::~EventImpl </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Class destructor. </p>

<p>Definition at line <a class="el" href="EventImpl_8cxx_source.html#l00020">20</a> of file <a class="el" href="EventImpl_8cxx_source.html">EventImpl.cxx</a>.</p>

<p>References <a class="el" href="EventImpl_8h_source.html#l00235">objectsOwned_</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00020"></a>00020                           {
<a name="l00021"></a>00021         <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; x : <a class="code" href="classldmx_1_1EventImpl.html#abdfbb6c26b79879ed10199f3a313ae09">objectsOwned_</a>) {
<a name="l00022"></a>00022             <span class="keyword">delete</span> x.second;
<a name="l00023"></a>00023         }
<a name="l00024"></a>00024     }
</pre></div></p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a0c3dcf864b50a15ac379ce408a0cf390"></a><!-- doxytag: member="ldmx::EventImpl::add" ref="a0c3dcf864b50a15ac379ce408a0cf390" args="(const std::string &amp;name, TObject *obj)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ldmx::EventImpl::add </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TObject *&nbsp;</td>
          <td class="paramname"> <em>obj</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Adds a general object to the event/tree. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>The name of the object. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>obj</em>&nbsp;</td><td>The object to add.</td></tr>
  </table>
  </dd>
</dl>
<dl class="note"><dt><b>Note:</b></dt><dd>All objects must implement/replace TObject::Clone() to simply call "new" and create an empty new object and implement TObject::Copy() to either copy the contents of the object or swap them to the calling function, which is more efficient. </dd></dl>

<p>Implements <a class="el" href="classldmx_1_1Event.html#ac7bb740796d02e65fb42807f62f97b22">ldmx::Event</a>.</p>

<p>Definition at line <a class="el" href="EventImpl_8cxx_source.html#l00052">52</a> of file <a class="el" href="EventImpl_8cxx_source.html">EventImpl.cxx</a>.</p>

<p>References <a class="el" href="EventImpl_8h_source.html#l00250">branchesFilled_</a>, <a class="el" href="EventImpl_8h_source.html#l00245">branchNames_</a>, <a class="el" href="Exception_8h_source.html#l00127">EXCEPTION_RAISE</a>, <a class="el" href="EventImpl_8h_source.html#l00255">knownLookups_</a>, <a class="el" href="EventImpl_8h_source.html#l00135">makeBranchName()</a>, <a class="el" href="EventImpl_8h_source.html#l00240">newBranches_</a>, <a class="el" href="EventImpl_8h_source.html#l00229">objects_</a>, and <a class="el" href="EventImpl_8h_source.html#l00235">objectsOwned_</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00052"></a>00052                                                                     {
<a name="l00053"></a>00053 
<a name="l00054"></a>00054         <span class="keywordflow">if</span> (collectionName.find(<span class="charliteral">&apos;_&apos;</span>)!=std::string::npos) {
<a name="l00055"></a>00055             <a class="code" href="Exception_8h.html#a6d45ac49a0cb250fe3cabf8cf3fae7e8" title="Utility macro for throwing exceptions, automatically including the necessary file...">EXCEPTION_RAISE</a>(<span class="stringliteral">&quot;IllegalName&quot;</span>,<span class="stringliteral">&quot;The product name &apos;&quot;</span>+collectionName+<span class="stringliteral">&quot;&apos; is illegal as it contains an underscore.&quot;</span>);
<a name="l00056"></a>00056         }
<a name="l00057"></a>00057 
<a name="l00058"></a>00058         std::string branchName;
<a name="l00059"></a>00059         <span class="keywordflow">if</span> (collectionName==EventConstants::EVENT_HEADER) branchName=collectionName;
<a name="l00060"></a>00060         <span class="keywordflow">else</span> branchName = <a class="code" href="classldmx_1_1EventImpl.html#a6a9b5c57b33cc8e5014ff9a63e407c84">makeBranchName</a>(collectionName);
<a name="l00061"></a>00061 
<a name="l00062"></a>00062         <span class="keywordflow">if</span> (<a class="code" href="classldmx_1_1EventImpl.html#a014ff80a168d22e5d017c893b0a0a08b">branchesFilled_</a>.find(branchName)!=<a class="code" href="classldmx_1_1EventImpl.html#a014ff80a168d22e5d017c893b0a0a08b">branchesFilled_</a>.end()) {
<a name="l00063"></a>00063             <a class="code" href="Exception_8h.html#a6d45ac49a0cb250fe3cabf8cf3fae7e8" title="Utility macro for throwing exceptions, automatically including the necessary file...">EXCEPTION_RAISE</a>(<span class="stringliteral">&quot;ProductExists&quot;</span>,<span class="stringliteral">&quot;A product named &apos;&quot;</span>+collectionName+<span class="stringliteral">&quot;&apos; already exists in the event (has been loaded by a previous producer in this process.&quot;</span>);
<a name="l00064"></a>00064         }
<a name="l00065"></a>00065         <a class="code" href="classldmx_1_1EventImpl.html#a014ff80a168d22e5d017c893b0a0a08b">branchesFilled_</a>.insert(branchName);
<a name="l00066"></a>00066 
<a name="l00067"></a>00067         std::map&lt;std::string, TObject*&gt;::iterator ito = <a class="code" href="classldmx_1_1EventImpl.html#a3fce3d6d953cc2eab6ec3a3a6c7f6654">objects_</a>.find(branchName);
<a name="l00068"></a>00068 
<a name="l00069"></a>00069         <span class="keywordflow">if</span> (ito == <a class="code" href="classldmx_1_1EventImpl.html#a3fce3d6d953cc2eab6ec3a3a6c7f6654">objects_</a>.end()) { <span class="comment">// create a new branch</span>
<a name="l00070"></a>00070             TObject* myCopy = to-&gt;Clone();
<a name="l00071"></a>00071             ito = <a class="code" href="classldmx_1_1EventImpl.html#a3fce3d6d953cc2eab6ec3a3a6c7f6654">objects_</a>.insert(std::pair&lt;std::string, TObject*&gt;(branchName, myCopy)).first;
<a name="l00072"></a>00072             <a class="code" href="classldmx_1_1EventImpl.html#abdfbb6c26b79879ed10199f3a313ae09">objectsOwned_</a>.insert(std::pair&lt;std::string, TObject*&gt;(branchName, myCopy));
<a name="l00073"></a>00073             <span class="keywordflow">if</span> (outputTree_ != 0) {
<a name="l00074"></a>00074                 TBranch* aBranch = outputTree_-&gt;Branch(branchName.c_str(), myCopy);
<a name="l00075"></a>00075                 <a class="code" href="classldmx_1_1EventImpl.html#a920a591416867a58b3aa14a258e7455d">newBranches_</a>.push_back(aBranch);
<a name="l00076"></a>00076             }
<a name="l00077"></a>00077             <a class="code" href="classldmx_1_1EventImpl.html#a396a55cadee5be28915ceae4baa01c17">branchNames_</a>.push_back(branchName);
<a name="l00078"></a>00078             <a class="code" href="classldmx_1_1EventImpl.html#a974e13fa2fe47ec9215242aca488f08e">knownLookups_</a>.clear(); <span class="comment">// have to invalidate this cache</span>
<a name="l00079"></a>00079         }
<a name="l00080"></a>00080         to-&gt;Copy(*ito-&gt;second);
<a name="l00081"></a>00081     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a233c96879bfb1cfa587044074f382657"></a><!-- doxytag: member="ldmx::EventImpl::add" ref="a233c96879bfb1cfa587044074f382657" args="(const std::string &amp;collectionName, TClonesArray *tca)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ldmx::EventImpl::add </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>collectionName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TClonesArray *&nbsp;</td>
          <td class="paramname"> <em>tca</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Adds a clones array to the event/tree. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>collectionName</em>&nbsp;</td><td></td></tr>
    <tr><td valign="top"></td><td valign="top"><em>tca</em>&nbsp;</td><td>The clones array to add. </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classldmx_1_1Event.html#ab5ea7b34778f5cf8d40504cdf9e69113">ldmx::Event</a>.</p>

<p>Definition at line <a class="el" href="EventImpl_8cxx_source.html#l00026">26</a> of file <a class="el" href="EventImpl_8cxx_source.html">EventImpl.cxx</a>.</p>

<p>References <a class="el" href="EventImpl_8h_source.html#l00250">branchesFilled_</a>, <a class="el" href="EventImpl_8h_source.html#l00245">branchNames_</a>, <a class="el" href="Exception_8h_source.html#l00127">EXCEPTION_RAISE</a>, <a class="el" href="EventImpl_8h_source.html#l00255">knownLookups_</a>, <a class="el" href="EventImpl_8h_source.html#l00135">makeBranchName()</a>, <a class="el" href="EventImpl_8h_source.html#l00240">newBranches_</a>, and <a class="el" href="EventImpl_8h_source.html#l00229">objects_</a>.</p>

<p>Referenced by <a class="el" href="EventImpl_8cxx_source.html#l00084">addToCollection()</a>, and <a class="el" href="EventImpl_8cxx_source.html#l00237">beforeFill()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00026"></a>00026                                                                           {
<a name="l00027"></a>00027 
<a name="l00028"></a>00028         <span class="keywordflow">if</span> (collectionName.find(<span class="charliteral">&apos;_&apos;</span>) != std::string::npos) {
<a name="l00029"></a>00029             <a class="code" href="Exception_8h.html#a6d45ac49a0cb250fe3cabf8cf3fae7e8" title="Utility macro for throwing exceptions, automatically including the necessary file...">EXCEPTION_RAISE</a>(<span class="stringliteral">&quot;IllegalName&quot;</span>, <span class="stringliteral">&quot;The product name &apos;&quot;</span> + collectionName + <span class="stringliteral">&quot;&apos; is illegal as it contains an underscore.&quot;</span>);
<a name="l00030"></a>00030         }
<a name="l00031"></a>00031 
<a name="l00032"></a>00032         std::string branchName = <a class="code" href="classldmx_1_1EventImpl.html#a6a9b5c57b33cc8e5014ff9a63e407c84">makeBranchName</a>(collectionName);
<a name="l00033"></a>00033 
<a name="l00034"></a>00034         <span class="keywordflow">if</span> (<a class="code" href="classldmx_1_1EventImpl.html#a014ff80a168d22e5d017c893b0a0a08b">branchesFilled_</a>.find(branchName) != <a class="code" href="classldmx_1_1EventImpl.html#a014ff80a168d22e5d017c893b0a0a08b">branchesFilled_</a>.end()) {
<a name="l00035"></a>00035             <a class="code" href="Exception_8h.html#a6d45ac49a0cb250fe3cabf8cf3fae7e8" title="Utility macro for throwing exceptions, automatically including the necessary file...">EXCEPTION_RAISE</a>(<span class="stringliteral">&quot;ProductExists&quot;</span>, <span class="stringliteral">&quot;A product named &apos;&quot;</span> + collectionName + <span class="stringliteral">&quot;&apos; already exists in the event (has been loaded by a previous producer in this process.&quot;</span>);
<a name="l00036"></a>00036         }
<a name="l00037"></a>00037         <a class="code" href="classldmx_1_1EventImpl.html#a014ff80a168d22e5d017c893b0a0a08b">branchesFilled_</a>.insert(branchName);
<a name="l00038"></a>00038 
<a name="l00039"></a>00039         std::map&lt;std::string, TObject*&gt;::iterator ito = <a class="code" href="classldmx_1_1EventImpl.html#a3fce3d6d953cc2eab6ec3a3a6c7f6654">objects_</a>.find(branchName);
<a name="l00040"></a>00040         <span class="keywordflow">if</span> (ito == <a class="code" href="classldmx_1_1EventImpl.html#a3fce3d6d953cc2eab6ec3a3a6c7f6654">objects_</a>.end()) { <span class="comment">// create a new branch</span>
<a name="l00041"></a>00041             ito = <a class="code" href="classldmx_1_1EventImpl.html#a3fce3d6d953cc2eab6ec3a3a6c7f6654">objects_</a>.insert(std::pair&lt;std::string, TObject*&gt;(branchName, tca)).first;
<a name="l00042"></a>00042             <span class="keywordflow">if</span> (outputTree_ != 0) {
<a name="l00043"></a>00043                 TBranch* aBranch = outputTree_-&gt;Branch(branchName.c_str(), tca, 100000, 3);
<a name="l00044"></a>00044                 <a class="code" href="classldmx_1_1EventImpl.html#a920a591416867a58b3aa14a258e7455d">newBranches_</a>.push_back(aBranch);
<a name="l00045"></a>00045             }
<a name="l00046"></a>00046             <a class="code" href="classldmx_1_1EventImpl.html#a396a55cadee5be28915ceae4baa01c17">branchNames_</a>.push_back(branchName);
<a name="l00047"></a>00047             <a class="code" href="classldmx_1_1EventImpl.html#a974e13fa2fe47ec9215242aca488f08e">knownLookups_</a>.clear(); <span class="comment">// have to invalidate this cache</span>
<a name="l00048"></a>00048         }
<a name="l00049"></a>00049     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a113c12218ae9d3849cd43ff16b1ea8dc"></a><!-- doxytag: member="ldmx::EventImpl::addToCollection" ref="a113c12218ae9d3849cd43ff16b1ea8dc" args="(const std::string &amp;name, const TObject &amp;obj)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ldmx::EventImpl::addToCollection </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const TObject &amp;&nbsp;</td>
          <td class="paramname"> <em>obj</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Add the given object to the named TClonesArray collection Objects can only be added to a TClonesArray during the current pass -- TClonesArrays loaded from the input data file are not allowed to be changed. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>Object types must implement TObject::Copy() </dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>Name of the collection </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>obj</em>&nbsp;</td><td>Object to be appended to the collection </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classldmx_1_1Event.html#ab890878e2a4cefc4b95873f098079d12">ldmx::Event</a>.</p>

<p>Definition at line <a class="el" href="EventImpl_8cxx_source.html#l00084">84</a> of file <a class="el" href="EventImpl_8cxx_source.html">EventImpl.cxx</a>.</p>

<p>References <a class="el" href="EventImpl_8cxx_source.html#l00026">add()</a>, <a class="el" href="Exception_8h_source.html#l00127">EXCEPTION_RAISE</a>, <a class="el" href="EventImpl_8h_source.html#l00135">makeBranchName()</a>, and <a class="el" href="EventImpl_8h_source.html#l00235">objectsOwned_</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00084"></a>00084                                                                              {
<a name="l00085"></a>00085         std::string branchName;
<a name="l00086"></a>00086         <span class="keywordflow">if</span> (name == EventConstants::EVENT_HEADER) <span class="keywordflow">return</span>; <span class="comment">// no adding to the event header...</span>
<a name="l00087"></a>00087         branchName = <a class="code" href="classldmx_1_1EventImpl.html#a6a9b5c57b33cc8e5014ff9a63e407c84">makeBranchName</a>(name);
<a name="l00088"></a>00088 
<a name="l00089"></a>00089         <span class="keyword">auto</span> location = <a class="code" href="classldmx_1_1EventImpl.html#abdfbb6c26b79879ed10199f3a313ae09">objectsOwned_</a>.find(branchName);
<a name="l00090"></a>00090         <span class="keywordflow">if</span> (location == <a class="code" href="classldmx_1_1EventImpl.html#abdfbb6c26b79879ed10199f3a313ae09">objectsOwned_</a>.end()) {
<a name="l00091"></a>00091             TClonesArray* tca = <span class="keyword">new</span> TClonesArray(obj.ClassName(), 100);
<a name="l00092"></a>00092             <a class="code" href="classldmx_1_1EventImpl.html#abdfbb6c26b79879ed10199f3a313ae09">objectsOwned_</a>[branchName] = tca;
<a name="l00093"></a>00093             <a class="code" href="classldmx_1_1EventImpl.html#a233c96879bfb1cfa587044074f382657">add</a>(name, tca);
<a name="l00094"></a>00094             TObject* to = tca-&gt;ConstructedAt(0);
<a name="l00095"></a>00095             obj.Copy(*to);
<a name="l00096"></a>00096         } <span class="keywordflow">else</span> {
<a name="l00097"></a>00097             TClonesArray* ptca = <span class="keyword">dynamic_cast&lt;</span>TClonesArray*<span class="keyword">&gt;</span>(location-&gt;second);
<a name="l00098"></a>00098             <span class="keywordflow">if</span> (ptca == 0) {
<a name="l00099"></a>00099                 <a class="code" href="Exception_8h.html#a6d45ac49a0cb250fe3cabf8cf3fae7e8" title="Utility macro for throwing exceptions, automatically including the necessary file...">EXCEPTION_RAISE</a>(<span class="stringliteral">&quot;ProductProblem&quot;</span>, <span class="stringliteral">&quot;Attempted to add to the collection &apos;&quot;</span> + name + <span class="stringliteral">&quot;&apos; which is not a TClonesArray.&quot;</span>);
<a name="l00100"></a>00100             }
<a name="l00101"></a>00101             <span class="keywordflow">if</span> (ptca-&gt;At(0)-&gt;Class() != obj.Class()) {
<a name="l00102"></a>00102                 <a class="code" href="Exception_8h.html#a6d45ac49a0cb250fe3cabf8cf3fae7e8" title="Utility macro for throwing exceptions, automatically including the necessary file...">EXCEPTION_RAISE</a>(<span class="stringliteral">&quot;ProductProblem&quot;</span>, <span class="stringliteral">&quot;Attempted to add object of different class to the collection &apos;&quot;</span> + name + <span class="stringliteral">&quot;&apos;&quot;</span>);
<a name="l00103"></a>00103             }
<a name="l00104"></a>00104             TObject* to = ptca-&gt;ConstructedAt(ptca-&gt;GetEntriesFast());
<a name="l00105"></a>00105             obj.Copy(*to);
<a name="l00106"></a>00106         }
<a name="l00107"></a>00107     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a48786bb755050e7f02c11343abe1dece"></a><!-- doxytag: member="ldmx::EventImpl::beforeFill" ref="a48786bb755050e7f02c11343abe1dece" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ldmx::EventImpl::beforeFill </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Action to be executed before the tree is filled. </p>

<p>Definition at line <a class="el" href="EventImpl_8cxx_source.html#l00237">237</a> of file <a class="el" href="EventImpl_8cxx_source.html">EventImpl.cxx</a>.</p>

<p>References <a class="el" href="EventImpl_8cxx_source.html#l00026">add()</a>, and <a class="el" href="EventImpl_8h_source.html#l00250">branchesFilled_</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00237"></a>00237                                {
<a name="l00238"></a>00238         <span class="keywordflow">if</span> (inputTree_==0 &amp;&amp; <a class="code" href="classldmx_1_1EventImpl.html#a014ff80a168d22e5d017c893b0a0a08b">branchesFilled_</a>.find(EventConstants::EVENT_HEADER)==<a class="code" href="classldmx_1_1EventImpl.html#a014ff80a168d22e5d017c893b0a0a08b">branchesFilled_</a>.end()) {
<a name="l00239"></a>00239             <a class="code" href="classldmx_1_1EventImpl.html#a233c96879bfb1cfa587044074f382657">add</a>(EventConstants::EVENT_HEADER, eventHeader_);
<a name="l00240"></a>00240         }
<a name="l00241"></a>00241     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="afd38a1a0a8211bb85d140badf982160d"></a><!-- doxytag: member="ldmx::EventImpl::Clear" ref="afd38a1a0a8211bb85d140badf982160d" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ldmx::EventImpl::Clear </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Clear this object's data. </p>

<p>Definition at line <a class="el" href="EventImpl_8cxx_source.html#l00243">243</a> of file <a class="el" href="EventImpl_8cxx_source.html">EventImpl.cxx</a>.</p>

<p>References <a class="el" href="EventImpl_8h_source.html#l00250">branchesFilled_</a>, and <a class="el" href="EventImpl_8h_source.html#l00229">objects_</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00243"></a>00243                           {
<a name="l00244"></a>00244         <span class="comment">// clear the event objects</span>
<a name="l00245"></a>00245         <span class="keywordflow">for</span> (<span class="keyword">auto</span> obj : <a class="code" href="classldmx_1_1EventImpl.html#a3fce3d6d953cc2eab6ec3a3a6c7f6654">objects_</a>)
<a name="l00246"></a>00246             obj.second-&gt;Clear(<span class="stringliteral">&quot;C&quot;</span>);
<a name="l00247"></a>00247         <a class="code" href="classldmx_1_1EventImpl.html#a014ff80a168d22e5d017c893b0a0a08b">branchesFilled_</a>.clear();
<a name="l00248"></a>00248 
<a name="l00249"></a>00249     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a81f19c8688dc8929a333da06c2f3db8b"></a><!-- doxytag: member="ldmx::EventImpl::createTree" ref="a81f19c8688dc8929a333da06c2f3db8b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TTree * ldmx::EventImpl::createTree </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Create the output data tree. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>The output data tree. </dd></dl>

<p>Definition at line <a class="el" href="EventImpl_8cxx_source.html#l00206">206</a> of file <a class="el" href="EventImpl_8cxx_source.html">EventImpl.cxx</a>.</p>

<p>Referenced by <a class="el" href="EventFile_8cxx_source.html#l00162">ldmx::EventFile::setupEvent()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00206"></a>00206                                  {
<a name="l00207"></a>00207         outputTree_ = <span class="keyword">new</span> TTree(<span class="stringliteral">&quot;LDMX_Events&quot;</span>, <span class="stringliteral">&quot;LDMX Events&quot;</span>);
<a name="l00208"></a>00208 
<a name="l00209"></a>00209         eventHeader_ = <span class="keyword">new</span> EventHeader();
<a name="l00210"></a>00210 
<a name="l00211"></a>00211         <span class="keywordflow">return</span> outputTree_;
<a name="l00212"></a>00212     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a445f246f88ccf5c568b4dc0a39d2ce9f"></a><!-- doxytag: member="ldmx::EventImpl::getEventHeader" ref="a445f246f88ccf5c568b4dc0a39d2ce9f" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual const <a class="el" href="classldmx_1_1EventHeader.html">EventHeader</a>* ldmx::EventImpl::getEventHeader </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get the event header. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>A constant copy of the event header. </dd></dl>

<p>Implements <a class="el" href="classldmx_1_1Event.html#a1f344b37eeb51607ae9a776145b52582">ldmx::Event</a>.</p>

<p>Definition at line <a class="el" href="EventImpl_8h_source.html#l00056">56</a> of file <a class="el" href="EventImpl_8h_source.html">EventImpl.h</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00056"></a>00056                                                               {
<a name="l00057"></a>00057                 <span class="keywordflow">return</span> eventHeader_;
<a name="l00058"></a>00058             }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a492d6593e4687348368dc93aefb30941"></a><!-- doxytag: member="ldmx::EventImpl::getEventHeaderMutable" ref="a492d6593e4687348368dc93aefb30941" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classldmx_1_1EventHeader.html">EventHeader</a>&amp; ldmx::EventImpl::getEventHeaderMutable </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>********* Functionality for storage ********** Get a mutable copy of the <a class="el" href="classldmx_1_1EventHeader.html" title="Provides header information an event such as event number and timestamp.">EventHeader</a> object. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>A mutable copy of the <a class="el" href="classldmx_1_1EventHeader.html" title="Provides header information an event such as event number and timestamp.">EventHeader</a> object. </dd></dl>

<p>Definition at line <a class="el" href="EventImpl_8h_source.html#l00108">108</a> of file <a class="el" href="EventImpl_8h_source.html">EventImpl.h</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00108"></a>00108                                                        {
<a name="l00109"></a>00109                 <span class="keywordflow">return</span> *eventHeader_;
<a name="l00110"></a>00110             }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a0f623507858019b37b606554534185af"></a><!-- doxytag: member="ldmx::EventImpl::getPassName" ref="a0f623507858019b37b606554534185af" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string ldmx::EventImpl::getPassName </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get the current/default pass name. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>The current/default pass name. </dd></dl>

<p>Definition at line <a class="el" href="EventImpl_8h_source.html#l00185">185</a> of file <a class="el" href="EventImpl_8h_source.html">EventImpl.h</a>.</p>

<p>References <a class="el" href="EventImpl_8h_source.html#l00194">passName_</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00185"></a>00185                                     {
<a name="l00186"></a>00186                 <span class="keywordflow">return</span> <a class="code" href="classldmx_1_1EventImpl.html#ab4df13f077cecf5f94b95f543eef3e50">passName_</a>;
<a name="l00187"></a>00187             }
</pre></div></p>

</div>
</div>
<a class="anchor" id="acb3dacb77bff7e3a01996a4b256ee8b1"></a><!-- doxytag: member="ldmx::EventImpl::getReal" ref="acb3dacb77bff7e3a01996a4b256ee8b1" args="(const std::string &amp;collectionName, const std::string &amp;passName, bool mustExist) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const TObject * ldmx::EventImpl::getReal </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>collectionName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>passName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>mustExist</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td> const<code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get an object from the event using a custom pass name. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>collectionName</em>&nbsp;</td><td>The collection name. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>passName</em>&nbsp;</td><td>The pass name. </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classldmx_1_1Event.html#ab64e58638e8d1c20d672c849b1d9e71c">ldmx::Event</a>.</p>

<p>Definition at line <a class="el" href="EventImpl_8cxx_source.html#l00110">110</a> of file <a class="el" href="EventImpl_8cxx_source.html">EventImpl.cxx</a>.</p>

<p>References <a class="el" href="EventImpl_8h_source.html#l00245">branchNames_</a>, <a class="el" href="Exception_8h_source.html#l00127">EXCEPTION_RAISE</a>, <a class="el" href="EventImpl_8h_source.html#l00255">knownLookups_</a>, and <a class="el" href="EventImpl_8h_source.html#l00135">makeBranchName()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00110"></a>00110                                                                                                                       {
<a name="l00111"></a>00111 
<a name="l00112"></a>00112         std::string branchName;
<a name="l00113"></a>00113         <span class="keywordflow">if</span> (collectionName== EventConstants::EVENT_HEADER) branchName=collectionName;
<a name="l00114"></a>00114         <span class="keywordflow">else</span> branchName = <a class="code" href="classldmx_1_1EventImpl.html#a6a9b5c57b33cc8e5014ff9a63e407c84">makeBranchName</a>(collectionName, passName);
<a name="l00115"></a>00115 
<a name="l00116"></a>00116         <span class="keywordflow">if</span> (passName.empty() &amp;&amp; collectionName!= EventConstants::EVENT_HEADER) {
<a name="l00117"></a>00117             <span class="keyword">auto</span> ptr=<a class="code" href="classldmx_1_1EventImpl.html#a974e13fa2fe47ec9215242aca488f08e">knownLookups_</a>.find(collectionName);
<a name="l00118"></a>00118             <span class="keywordflow">if</span> (ptr!=<a class="code" href="classldmx_1_1EventImpl.html#a974e13fa2fe47ec9215242aca488f08e">knownLookups_</a>.end()) branchName=ptr-&gt;second;
<a name="l00119"></a>00119             <span class="keywordflow">else</span> {
<a name="l00120"></a>00120                 std::vector&lt;std::vector&lt;std::string&gt;::const_iterator&gt; matches;
<a name="l00121"></a>00121                 branchName=collectionName+<span class="stringliteral">&quot;_&quot;</span>;
<a name="l00122"></a>00122                 for (std::vector&lt;std::string&gt;::const_iterator ptr=<a class="code" href="classldmx_1_1EventImpl.html#a396a55cadee5be28915ceae4baa01c17">branchNames_</a>.begin(); ptr!=<a class="code" href="classldmx_1_1EventImpl.html#a396a55cadee5be28915ceae4baa01c17">branchNames_</a>.end(); ptr++) {
<a name="l00123"></a>00123                     <span class="keywordflow">if</span> (!ptr-&gt;compare(0,branchName.size(),branchName)) matches.push_back(ptr);
<a name="l00124"></a>00124                 }
<a name="l00125"></a>00125                 <span class="keywordflow">if</span> (matches.empty()) {
<a name="l00126"></a>00126                     <span class="keywordflow">if</span> (!mustExist)
<a name="l00127"></a>00127                         <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;
<a name="l00128"></a>00128                     <a class="code" href="Exception_8h.html#a6d45ac49a0cb250fe3cabf8cf3fae7e8" title="Utility macro for throwing exceptions, automatically including the necessary file...">EXCEPTION_RAISE</a>(<span class="stringliteral">&quot;ProductNotFound&quot;</span>,<span class="stringliteral">&quot;No product found for name &apos;&quot;</span>+collectionName+<span class="stringliteral">&quot;&apos;&quot;</span>);
<a name="l00129"></a>00129                 } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (matches.size()&gt;1) {
<a name="l00130"></a>00130                     std::string names;
<a name="l00131"></a>00131                     <span class="keywordflow">for</span> (<span class="keyword">auto</span> strs : matches) {
<a name="l00132"></a>00132                         <span class="keywordflow">if</span> (!names.empty()) names+=<span class="stringliteral">&quot;, &quot;</span>;
<a name="l00133"></a>00133                         names+=*strs;
<a name="l00134"></a>00134                     }
<a name="l00135"></a>00135                     <span class="keywordflow">if</span> (!mustExist)
<a name="l00136"></a>00136                         <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;
<a name="l00137"></a>00137                     <a class="code" href="Exception_8h.html#a6d45ac49a0cb250fe3cabf8cf3fae7e8" title="Utility macro for throwing exceptions, automatically including the necessary file...">EXCEPTION_RAISE</a>(<span class="stringliteral">&quot;ProductAmbiguous&quot;</span>,<span class="stringliteral">&quot;Multiple products found for name &apos;&quot;</span>+collectionName+<span class="stringliteral">&quot;&apos; without specified pass name (&quot;</span>+names+<span class="stringliteral">&quot;)&quot;</span>);
<a name="l00138"></a>00138                 } <span class="keywordflow">else</span> {
<a name="l00139"></a>00139                     branchName=*matches.front();
<a name="l00140"></a>00140                     <a class="code" href="classldmx_1_1EventImpl.html#a974e13fa2fe47ec9215242aca488f08e">knownLookups_</a>[collectionName]=branchName;
<a name="l00141"></a>00141                 }
<a name="l00142"></a>00142             }
<a name="l00143"></a>00143         }
<a name="l00144"></a>00144 
<a name="l00145"></a>00145 
<a name="l00146"></a>00146         std::map&lt;std::string, TBranch*&gt;::const_iterator itb = <a class="code" href="classldmx_1_1EventImpl.html#abca186bc4f2af71cae867d45b4936dbd">branches_</a>.find(branchName);
<a name="l00147"></a>00147 
<a name="l00148"></a>00148         <span class="comment">// check the objects map</span>
<a name="l00149"></a>00149         std::map&lt;std::string, TObject*&gt;::const_iterator ito = <a class="code" href="classldmx_1_1EventImpl.html#a3fce3d6d953cc2eab6ec3a3a6c7f6654">objects_</a>.find(branchName);
<a name="l00150"></a>00150         <span class="keywordflow">if</span> (ito != <a class="code" href="classldmx_1_1EventImpl.html#a3fce3d6d953cc2eab6ec3a3a6c7f6654">objects_</a>.end()) {
<a name="l00151"></a>00151            <span class="keywordflow">if</span> (itb!=<a class="code" href="classldmx_1_1EventImpl.html#abca186bc4f2af71cae867d45b4936dbd">branches_</a>.end())
<a name="l00152"></a>00152               itb-&gt;second-&gt;GetEntry(ientry_);
<a name="l00153"></a>00153            <span class="keywordflow">return</span> ito-&gt;second;
<a name="l00154"></a>00154         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (inputTree_ == 0) {
<a name="l00155"></a>00155             <a class="code" href="Exception_8h.html#a6d45ac49a0cb250fe3cabf8cf3fae7e8" title="Utility macro for throwing exceptions, automatically including the necessary file...">EXCEPTION_RAISE</a>(<span class="stringliteral">&quot;ProductNotFound&quot;</span>, <span class="stringliteral">&quot;No product found for name &apos;&quot;</span> + collectionName + <span class="stringliteral">&quot;&apos; and pass &apos;&quot;</span> + <a class="code" href="classldmx_1_1EventImpl.html#ab4df13f077cecf5f94b95f543eef3e50">passName_</a> + <span class="stringliteral">&quot;&apos;&quot;</span>);
<a name="l00156"></a>00156         }
<a name="l00157"></a>00157 
<a name="l00158"></a>00158         <span class="comment">// find the active branch and update if necessary</span>
<a name="l00159"></a>00159         <span class="keywordflow">if</span> (itb != <a class="code" href="classldmx_1_1EventImpl.html#abca186bc4f2af71cae867d45b4936dbd">branches_</a>.end()) {
<a name="l00160"></a>00160 
<a name="l00161"></a>00161             std::map&lt;std::string, TObject*&gt;::iterator ito = <a class="code" href="classldmx_1_1EventImpl.html#a3fce3d6d953cc2eab6ec3a3a6c7f6654">objects_</a>.find(branchName);
<a name="l00162"></a>00162 
<a name="l00163"></a>00163             <span class="comment">// update buffers if needed</span>
<a name="l00164"></a>00164             <span class="keywordflow">if</span> (itb-&gt;second-&gt;GetReadEntry() != ientry_) {
<a name="l00165"></a>00165 
<a name="l00166"></a>00166                 TBranchElement* tbe = <span class="keyword">dynamic_cast&lt;</span>TBranchElement*<span class="keyword">&gt;</span>(itb-&gt;second);
<a name="l00167"></a>00167                 <span class="keywordflow">if</span> (!tbe)
<a name="l00168"></a>00168                     itb-&gt;second-&gt;SetAddress(ito-&gt;second);
<a name="l00169"></a>00169                 <span class="keywordtype">int</span> nr = itb-&gt;second-&gt;GetEntry(ientry_, 1);
<a name="l00170"></a>00170             }
<a name="l00171"></a>00171 
<a name="l00172"></a>00172             <span class="comment">// check the objects map</span>
<a name="l00173"></a>00173 
<a name="l00174"></a>00174             <span class="keywordflow">if</span> (ito != <a class="code" href="classldmx_1_1EventImpl.html#a3fce3d6d953cc2eab6ec3a3a6c7f6654">objects_</a>.end())
<a name="l00175"></a>00175                 <span class="keywordflow">return</span> ito-&gt;second;
<a name="l00176"></a>00176 
<a name="l00177"></a>00177             <span class="comment">// this case is hard to achieve</span>
<a name="l00178"></a>00178             <span class="keywordflow">return</span> 0;
<a name="l00179"></a>00179         } <span class="keywordflow">else</span> {
<a name="l00180"></a>00180 
<a name="l00181"></a>00181             <span class="comment">// ok, maybe we&apos;ve not loaded this yet, look for a branch</span>
<a name="l00182"></a>00182             TBranch* branch = inputTree_-&gt;GetBranch(branchName.c_str());
<a name="l00183"></a>00183             <span class="keywordflow">if</span> (branch == 0) {
<a name="l00184"></a>00184                 <a class="code" href="Exception_8h.html#a6d45ac49a0cb250fe3cabf8cf3fae7e8" title="Utility macro for throwing exceptions, automatically including the necessary file...">EXCEPTION_RAISE</a>(<span class="stringliteral">&quot;ProductNotFound&quot;</span>, <span class="stringliteral">&quot;No product found for name &apos;&quot;</span> + collectionName + <span class="stringliteral">&quot;&apos; and pass &apos;&quot;</span> + <a class="code" href="classldmx_1_1EventImpl.html#ab4df13f077cecf5f94b95f543eef3e50">passName_</a> + <span class="stringliteral">&quot;&apos;&quot;</span>);
<a name="l00185"></a>00185             }
<a name="l00186"></a>00186 
<a name="l00187"></a>00187             <span class="comment">// ooh, new branch!</span>
<a name="l00188"></a>00188             TObject* top(0);
<a name="l00189"></a>00189             branch-&gt;SetAutoDelete(<span class="keyword">false</span>);
<a name="l00190"></a>00190             branch-&gt;SetStatus(1);
<a name="l00191"></a>00191             branch-&gt;GetEntry((ientry_&lt;0)?(0):(ientry_));
<a name="l00192"></a>00192             TBranchElement* tbe = <span class="keyword">dynamic_cast&lt;</span>TBranchElement*<span class="keyword">&gt;</span>(branch);
<a name="l00193"></a>00193             <span class="keywordflow">if</span> (tbe) {
<a name="l00194"></a>00194                 top = (TObject*) tbe-&gt;GetObject();
<a name="l00195"></a>00195             } <span class="keywordflow">else</span> {
<a name="l00196"></a>00196                 branch-&gt;SetAddress(&amp;top);
<a name="l00197"></a>00197             }
<a name="l00198"></a>00198 
<a name="l00199"></a>00199             <a class="code" href="classldmx_1_1EventImpl.html#abca186bc4f2af71cae867d45b4936dbd">branches_</a>.insert(std::pair&lt;std::string, TBranch*&gt;(branchName, branch));
<a name="l00200"></a>00200             <a class="code" href="classldmx_1_1EventImpl.html#a3fce3d6d953cc2eab6ec3a3a6c7f6654">objects_</a>.insert(std::pair&lt;std::string, TObject*&gt;(branchName, top));
<a name="l00201"></a>00201 
<a name="l00202"></a>00202             <span class="keywordflow">return</span> top;
<a name="l00203"></a>00203         }
<a name="l00204"></a>00204     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="af5a17287b4e91ca7fd41cf25394e9b94"></a><!-- doxytag: member="ldmx::EventImpl::makeBranchName" ref="af5a17287b4e91ca7fd41cf25394e9b94" args="(const std::string &amp;collectionName) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string ldmx::EventImpl::makeBranchName </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>collectionName</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Make a branch name from a collection and the default(current) pass name. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>collectionName</em>&nbsp;</td><td>The collection name. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="EventImpl_8h_source.html#l00143">143</a> of file <a class="el" href="EventImpl_8h_source.html">EventImpl.h</a>.</p>

<p>References <a class="el" href="EventImpl_8h_source.html#l00135">makeBranchName()</a>, and <a class="el" href="EventImpl_8h_source.html#l00194">passName_</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00143"></a>00143                                                                             {
<a name="l00144"></a>00144                 <span class="keywordflow">return</span> <a class="code" href="classldmx_1_1EventImpl.html#a6a9b5c57b33cc8e5014ff9a63e407c84">makeBranchName</a>(collectionName, <a class="code" href="classldmx_1_1EventImpl.html#ab4df13f077cecf5f94b95f543eef3e50">passName_</a>);
<a name="l00145"></a>00145             }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a6a9b5c57b33cc8e5014ff9a63e407c84"></a><!-- doxytag: member="ldmx::EventImpl::makeBranchName" ref="a6a9b5c57b33cc8e5014ff9a63e407c84" args="(const std::string &amp;collectionName, const std::string &amp;passName) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string ldmx::EventImpl::makeBranchName </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>collectionName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>passName</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Make a branch name from a collection and pass name. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>collectionName</em>&nbsp;</td><td>The collection name. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>passName</em>&nbsp;</td><td>The pass name. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="EventImpl_8h_source.html#l00135">135</a> of file <a class="el" href="EventImpl_8h_source.html">EventImpl.h</a>.</p>

<p>Referenced by <a class="el" href="EventImpl_8cxx_source.html#l00026">add()</a>, <a class="el" href="EventImpl_8cxx_source.html#l00084">addToCollection()</a>, <a class="el" href="EventImpl_8cxx_source.html#l00110">getReal()</a>, and <a class="el" href="EventImpl_8h_source.html#l00143">makeBranchName()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00135"></a>00135                                                                                                        {
<a name="l00136"></a>00136                 <span class="keywordflow">return</span> collectionName + <span class="stringliteral">&quot;_&quot;</span> + passName;
<a name="l00137"></a>00137             }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a340a707ad6fdcec1d6abed935c6398bb"></a><!-- doxytag: member="ldmx::EventImpl::nextEvent" ref="a340a707ad6fdcec1d6abed935c6398bb" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ldmx::EventImpl::nextEvent </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Go to the next event by incrementing the entry index. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>Hard-coded to return true. </dd></dl>

<p>Definition at line <a class="el" href="EventImpl_8cxx_source.html#l00231">231</a> of file <a class="el" href="EventImpl_8cxx_source.html">EventImpl.cxx</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00231"></a>00231                               {
<a name="l00232"></a>00232         ientry_++;
<a name="l00233"></a>00233         eventHeader_=get&lt;EventHeader*&gt;(EventConstants::EVENT_HEADER);
<a name="l00234"></a>00234         <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00235"></a>00235     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="abb3cff0a3cf57f48af8061ed3584e39a"></a><!-- doxytag: member="ldmx::EventImpl::onEndOfEvent" ref="abb3cff0a3cf57f48af8061ed3584e39a" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ldmx::EventImpl::onEndOfEvent </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Perform end of event action (clears the owned objects). </p>

<p>Definition at line <a class="el" href="EventImpl_8cxx_source.html#l00250">250</a> of file <a class="el" href="EventImpl_8cxx_source.html">EventImpl.cxx</a>.</p>

<p>References <a class="el" href="EventImpl_8h_source.html#l00250">branchesFilled_</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00250"></a>00250                                  {
<a name="l00251"></a>00251         <a class="code" href="classldmx_1_1EventImpl.html#a014ff80a168d22e5d017c893b0a0a08b">branchesFilled_</a>.clear();
<a name="l00252"></a>00252     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ae57007eaa7f3c2576e4764f45909e756"></a><!-- doxytag: member="ldmx::EventImpl::onEndOfFile" ref="ae57007eaa7f3c2576e4764f45909e756" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ldmx::EventImpl::onEndOfFile </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Perform end of file action (doesn't do anything right now). </p>

<p>Definition at line <a class="el" href="EventImpl_8cxx_source.html#l00254">254</a> of file <a class="el" href="EventImpl_8cxx_source.html">EventImpl.cxx</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00254"></a>00254                                 {
<a name="l00255"></a>00255     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ae6f1975e354122aac268164fa796977b"></a><!-- doxytag: member="ldmx::EventImpl::setInputTree" ref="ae6f1975e354122aac268164fa796977b" args="(TTree *tree)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ldmx::EventImpl::setInputTree </td>
          <td>(</td>
          <td class="paramtype">TTree *&nbsp;</td>
          <td class="paramname"> <em>tree</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Set the input data tree. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>tree</em>&nbsp;</td><td>The input data tree. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="EventImpl_8cxx_source.html#l00218">218</a> of file <a class="el" href="EventImpl_8cxx_source.html">EventImpl.cxx</a>.</p>

<p>References <a class="el" href="EventImpl_8h_source.html#l00245">branchNames_</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00218"></a>00218                                             {
<a name="l00219"></a>00219         inputTree_ = tree;
<a name="l00220"></a>00220         entries_ = inputTree_-&gt;GetEntriesFast();
<a name="l00221"></a>00221         <a class="code" href="classldmx_1_1EventImpl.html#a396a55cadee5be28915ceae4baa01c17">branchNames_</a>.clear();
<a name="l00222"></a>00222 
<a name="l00223"></a>00223 
<a name="l00224"></a>00224         <span class="comment">// find the names of all the existing branches</span>
<a name="l00225"></a>00225         TObjArray* branches = inputTree_-&gt;GetListOfBranches();
<a name="l00226"></a>00226         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; branches-&gt;GetEntriesFast(); i++) {
<a name="l00227"></a>00227             <a class="code" href="classldmx_1_1EventImpl.html#a396a55cadee5be28915ceae4baa01c17">branchNames_</a>.push_back(branches-&gt;At(i)-&gt;GetName());
<a name="l00228"></a>00228         }
<a name="l00229"></a>00229     }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a242064e84381eb6aa90a06f79404bb92"></a><!-- doxytag: member="ldmx::EventImpl::setOutputTree" ref="a242064e84381eb6aa90a06f79404bb92" args="(TTree *tree)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ldmx::EventImpl::setOutputTree </td>
          <td>(</td>
          <td class="paramtype">TTree *&nbsp;</td>
          <td class="paramname"> <em>tree</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Set the output data tree. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>tree</em>&nbsp;</td><td>The output data tree. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="EventImpl_8cxx_source.html#l00214">214</a> of file <a class="el" href="EventImpl_8cxx_source.html">EventImpl.cxx</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00214"></a>00214                                              {
<a name="l00215"></a>00215         outputTree_ = tree;
<a name="l00216"></a>00216     }
</pre></div></p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="abca186bc4f2af71cae867d45b4936dbd"></a><!-- doxytag: member="ldmx::EventImpl::branches_" ref="abca186bc4f2af71cae867d45b4936dbd" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;std::string, TBranch*&gt; <a class="el" href="classldmx_1_1EventImpl.html#abca186bc4f2af71cae867d45b4936dbd">ldmx::EventImpl::branches_</a><code> [mutable, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The output tree for writing a new file. The input tree for reading existing data. Map of names to branches. </p>

<p>Definition at line <a class="el" href="EventImpl_8h_source.html#l00214">214</a> of file <a class="el" href="EventImpl_8h_source.html">EventImpl.h</a>.</p>

</div>
</div>
<a class="anchor" id="a014ff80a168d22e5d017c893b0a0a08b"></a><!-- doxytag: member="ldmx::EventImpl::branchesFilled_" ref="a014ff80a168d22e5d017c893b0a0a08b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::set&lt;std::string&gt; <a class="el" href="classldmx_1_1EventImpl.html#a014ff80a168d22e5d017c893b0a0a08b">ldmx::EventImpl::branchesFilled_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Names of branches filled during this event. </p>

<p>Definition at line <a class="el" href="EventImpl_8h_source.html#l00250">250</a> of file <a class="el" href="EventImpl_8h_source.html">EventImpl.h</a>.</p>

<p>Referenced by <a class="el" href="EventImpl_8cxx_source.html#l00026">add()</a>, <a class="el" href="EventImpl_8cxx_source.html#l00237">beforeFill()</a>, <a class="el" href="EventImpl_8cxx_source.html#l00243">Clear()</a>, and <a class="el" href="EventImpl_8cxx_source.html#l00250">onEndOfEvent()</a>.</p>

</div>
</div>
<a class="anchor" id="a396a55cadee5be28915ceae4baa01c17"></a><!-- doxytag: member="ldmx::EventImpl::branchNames_" ref="a396a55cadee5be28915ceae4baa01c17" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::string&gt; <a class="el" href="classldmx_1_1EventImpl.html#a396a55cadee5be28915ceae4baa01c17">ldmx::EventImpl::branchNames_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Names of all branches. </p>

<p>Definition at line <a class="el" href="EventImpl_8h_source.html#l00245">245</a> of file <a class="el" href="EventImpl_8h_source.html">EventImpl.h</a>.</p>

<p>Referenced by <a class="el" href="EventImpl_8cxx_source.html#l00026">add()</a>, <a class="el" href="EventImpl_8cxx_source.html#l00110">getReal()</a>, and <a class="el" href="EventImpl_8cxx_source.html#l00218">setInputTree()</a>.</p>

</div>
</div>
<a class="anchor" id="a974e13fa2fe47ec9215242aca488f08e"></a><!-- doxytag: member="ldmx::EventImpl::knownLookups_" ref="a974e13fa2fe47ec9215242aca488f08e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;std::string, std::string&gt; <a class="el" href="classldmx_1_1EventImpl.html#a974e13fa2fe47ec9215242aca488f08e">ldmx::EventImpl::knownLookups_</a><code> [mutable, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Efficiency cache for empty pass name lookups. </p>

<p>Definition at line <a class="el" href="EventImpl_8h_source.html#l00255">255</a> of file <a class="el" href="EventImpl_8h_source.html">EventImpl.h</a>.</p>

<p>Referenced by <a class="el" href="EventImpl_8cxx_source.html#l00026">add()</a>, and <a class="el" href="EventImpl_8cxx_source.html#l00110">getReal()</a>.</p>

</div>
</div>
<a class="anchor" id="a920a591416867a58b3aa14a258e7455d"></a><!-- doxytag: member="ldmx::EventImpl::newBranches_" ref="a920a591416867a58b3aa14a258e7455d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;TBranch*&gt; <a class="el" href="classldmx_1_1EventImpl.html#a920a591416867a58b3aa14a258e7455d">ldmx::EventImpl::newBranches_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>List of new branches added. </p>

<p>Definition at line <a class="el" href="EventImpl_8h_source.html#l00240">240</a> of file <a class="el" href="EventImpl_8h_source.html">EventImpl.h</a>.</p>

<p>Referenced by <a class="el" href="EventImpl_8cxx_source.html#l00026">add()</a>.</p>

</div>
</div>
<a class="anchor" id="a3fce3d6d953cc2eab6ec3a3a6c7f6654"></a><!-- doxytag: member="ldmx::EventImpl::objects_" ref="a3fce3d6d953cc2eab6ec3a3a6c7f6654" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;std::string, TObject*&gt; <a class="el" href="classldmx_1_1EventImpl.html#a3fce3d6d953cc2eab6ec3a3a6c7f6654">ldmx::EventImpl::objects_</a><code> [mutable, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Map of names to objects. </p>

<p>Definition at line <a class="el" href="EventImpl_8h_source.html#l00229">229</a> of file <a class="el" href="EventImpl_8h_source.html">EventImpl.h</a>.</p>

<p>Referenced by <a class="el" href="EventImpl_8cxx_source.html#l00026">add()</a>, and <a class="el" href="EventImpl_8cxx_source.html#l00243">Clear()</a>.</p>

</div>
</div>
<a class="anchor" id="abdfbb6c26b79879ed10199f3a313ae09"></a><!-- doxytag: member="ldmx::EventImpl::objectsOwned_" ref="abdfbb6c26b79879ed10199f3a313ae09" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;std::string, TObject*&gt; <a class="el" href="classldmx_1_1EventImpl.html#abdfbb6c26b79879ed10199f3a313ae09">ldmx::EventImpl::objectsOwned_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Map of owned objects that should eventually be cleared at end of event and deleted when this object is destroyed. </p>

<p>Definition at line <a class="el" href="EventImpl_8h_source.html#l00235">235</a> of file <a class="el" href="EventImpl_8h_source.html">EventImpl.h</a>.</p>

<p>Referenced by <a class="el" href="EventImpl_8cxx_source.html#l00052">add()</a>, <a class="el" href="EventImpl_8cxx_source.html#l00084">addToCollection()</a>, and <a class="el" href="EventImpl_8cxx_source.html#l00020">~EventImpl()</a>.</p>

</div>
</div>
<a class="anchor" id="ab4df13f077cecf5f94b95f543eef3e50"></a><!-- doxytag: member="ldmx::EventImpl::passName_" ref="ab4df13f077cecf5f94b95f543eef3e50" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string <a class="el" href="classldmx_1_1EventImpl.html#ab4df13f077cecf5f94b95f543eef3e50">ldmx::EventImpl::passName_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The event header object (as pointer). Number of entries in the tree. Current entry in the tree. The default pass name. </p>

<p>Definition at line <a class="el" href="EventImpl_8h_source.html#l00194">194</a> of file <a class="el" href="EventImpl_8h_source.html">EventImpl.h</a>.</p>

<p>Referenced by <a class="el" href="EventImpl_8h_source.html#l00185">getPassName()</a>, and <a class="el" href="EventImpl_8h_source.html#l00143">makeBranchName()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>Framework/include/Framework/<a class="el" href="EventImpl_8h_source.html">EventImpl.h</a></li>
<li>Framework/src/<a class="el" href="EventImpl_8cxx_source.html">EventImpl.cxx</a></li>
</ul>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on 7 Jul 2017 for LDMX Software by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
