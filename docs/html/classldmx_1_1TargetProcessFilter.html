<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>LDMX Software: ldmx::TargetProcessFilter Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.4 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">LDMX Software</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><b>ldmx</b>      </li>
      <li class="navelem"><a class="el" href="classldmx_1_1TargetProcessFilter.html">TargetProcessFilter</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">ldmx::TargetProcessFilter Class Reference</div>  </div>
</div>
<div class="contents">
<!-- doxytag: class="ldmx::TargetProcessFilter" --><!-- doxytag: inherits="ldmx::UserActionPlugin" -->
<p>Biases Geant4 to only process events where PN reaction occurred in the target.  
 <a href="classldmx_1_1TargetProcessFilter.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="TargetProcessFilter_8h_source.html">TargetProcessFilter.h</a>&gt;</code></p>

<p><a href="classldmx_1_1TargetProcessFilter-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classldmx_1_1TargetProcessFilter.html#a5f8e17796dd1cd614b693c3081b73bb7">TargetProcessFilter</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classldmx_1_1TargetProcessFilter.html#a2479078a872d1042bdd7ca4e6f3999e0">~TargetProcessFilter</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classldmx_1_1TargetProcessFilter.html#a9b0dafaea779b5829bf29fada9164642">getName</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classldmx_1_1TargetProcessFilter.html#a8b433be2c0c5843ff1d9fb9d462ef542">hasEventAction</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classldmx_1_1TargetProcessFilter.html#a38d5b9c59bb4d0379c497d16dae0a5e8">hasSteppingAction</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classldmx_1_1TargetProcessFilter.html#afe756680a4e595cecc1d6c47aa36d2f9">hasStackingAction</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classldmx_1_1TargetProcessFilter.html#ab7c281885d28d8d3b192ce2e46686279">stepping</a> (const G4Step *step)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classldmx_1_1TargetProcessFilter.html#a7e5dde7da47a074c9f5ede1f8ff4b036">endEvent</a> (const G4Event *)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">G4ClassificationOfNewTrack&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classldmx_1_1TargetProcessFilter.html#a555a9ba60795808e9107821a371bd018">stackingClassifyNewTrack</a> (const G4Track *aTrack, const G4ClassificationOfNewTrack &amp;currentTrackClass)</td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Biases Geant4 to only process events where PN reaction occurred in the target. </p>

<p>Definition at line <a class="el" href="TargetProcessFilter_8h_source.html#l00030">30</a> of file <a class="el" href="TargetProcessFilter_8h_source.html">TargetProcessFilter.h</a>.</p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a5f8e17796dd1cd614b693c3081b73bb7"></a><!-- doxytag: member="ldmx::TargetProcessFilter::TargetProcessFilter" ref="a5f8e17796dd1cd614b693c3081b73bb7" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ldmx::TargetProcessFilter::TargetProcessFilter </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Class constructor. </p>

<p>Definition at line <a class="el" href="TargetProcessFilter_8cxx_source.html#l00021">21</a> of file <a class="el" href="TargetProcessFilter_8cxx_source.html">TargetProcessFilter.cxx</a>.</p>
<div class="fragment"><pre class="fragment">                                             {
    }
</pre></div>
</div>
</div>
<a class="anchor" id="a2479078a872d1042bdd7ca4e6f3999e0"></a><!-- doxytag: member="ldmx::TargetProcessFilter::~TargetProcessFilter" ref="a2479078a872d1042bdd7ca4e6f3999e0" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ldmx::TargetProcessFilter::~TargetProcessFilter </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Class destructor. </p>

<p>Definition at line <a class="el" href="TargetProcessFilter_8cxx_source.html#l00024">24</a> of file <a class="el" href="TargetProcessFilter_8cxx_source.html">TargetProcessFilter.cxx</a>.</p>
<div class="fragment"><pre class="fragment">                                              {
    }
</pre></div>
</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a7e5dde7da47a074c9f5ede1f8ff4b036"></a><!-- doxytag: member="ldmx::TargetProcessFilter::endEvent" ref="a7e5dde7da47a074c9f5ede1f8ff4b036" args="(const G4Event *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ldmx::TargetProcessFilter::endEvent </td>
          <td>(</td>
          <td class="paramtype">const G4Event *&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>End of event action. </p>

<p>Reimplemented from <a class="el" href="classldmx_1_1UserActionPlugin.html#abc519b12358dc6620cd4b42245770275">ldmx::UserActionPlugin</a>.</p>

<p>Definition at line <a class="el" href="TargetProcessFilter_8cxx_source.html#l00172">172</a> of file <a class="el" href="TargetProcessFilter_8cxx_source.html">TargetProcessFilter.cxx</a>.</p>
<div class="fragment"><pre class="fragment">                                                     {
        reactionOccurred_ = <span class="keyword">false</span>; 
    }
</pre></div>
</div>
</div>
<a class="anchor" id="a9b0dafaea779b5829bf29fada9164642"></a><!-- doxytag: member="ldmx::TargetProcessFilter::getName" ref="a9b0dafaea779b5829bf29fada9164642" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual std::string ldmx::TargetProcessFilter::getName </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get the name of the plugin. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>The name of the plugin. </dd></dl>

<p>Implements <a class="el" href="classldmx_1_1UserActionPlugin.html#a918d79cfc55afb068562d71f3cd5d6ff">ldmx::UserActionPlugin</a>.</p>

<p>Definition at line <a class="el" href="TargetProcessFilter_8h_source.html#l00048">48</a> of file <a class="el" href="TargetProcessFilter_8h_source.html">TargetProcessFilter.h</a>.</p>
<div class="fragment"><pre class="fragment">                                        {
                <span class="keywordflow">return</span> <span class="stringliteral">&quot;TargetProcessFilter&quot;</span>;
            }
</pre></div>
</div>
</div>
<a class="anchor" id="a8b433be2c0c5843ff1d9fb9d462ef542"></a><!-- doxytag: member="ldmx::TargetProcessFilter::hasEventAction" ref="a8b433be2c0c5843ff1d9fb9d462ef542" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool ldmx::TargetProcessFilter::hasEventAction </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get whether this plugin implements the event action. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>True if the plugin implements the event action. </dd></dl>

<p>Reimplemented from <a class="el" href="classldmx_1_1UserActionPlugin.html#afa9f96357bf65b2d4a2922cf1b5b136b">ldmx::UserActionPlugin</a>.</p>

<p>Definition at line <a class="el" href="TargetProcessFilter_8h_source.html#l00056">56</a> of file <a class="el" href="TargetProcessFilter_8h_source.html">TargetProcessFilter.h</a>.</p>
<div class="fragment"><pre class="fragment">                                          { 
                <span class="keywordflow">return</span> <span class="keyword">true</span>;
            }
</pre></div>
</div>
</div>
<a class="anchor" id="afe756680a4e595cecc1d6c47aa36d2f9"></a><!-- doxytag: member="ldmx::TargetProcessFilter::hasStackingAction" ref="afe756680a4e595cecc1d6c47aa36d2f9" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ldmx::TargetProcessFilter::hasStackingAction </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get whether this plugin implements the stacking aciton. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>True to indicate this plugin implements the stacking action. </dd></dl>

<p>Reimplemented from <a class="el" href="classldmx_1_1UserActionPlugin.html#a861ec3a227a55ac4b7bcdd7580c0039f">ldmx::UserActionPlugin</a>.</p>

<p>Definition at line <a class="el" href="TargetProcessFilter_8h_source.html#l00072">72</a> of file <a class="el" href="TargetProcessFilter_8h_source.html">TargetProcessFilter.h</a>.</p>
<div class="fragment"><pre class="fragment">                                     { 
                <span class="keywordflow">return</span> <span class="keyword">true</span>;
            }
</pre></div>
</div>
</div>
<a class="anchor" id="a38d5b9c59bb4d0379c497d16dae0a5e8"></a><!-- doxytag: member="ldmx::TargetProcessFilter::hasSteppingAction" ref="a38d5b9c59bb4d0379c497d16dae0a5e8" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ldmx::TargetProcessFilter::hasSteppingAction </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get whether this plugin implements the stepping action. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>True to indicate this plugin implements the stepping action. </dd></dl>

<p>Reimplemented from <a class="el" href="classldmx_1_1UserActionPlugin.html#a4cea2cbb6bf7987eee10b4b9287cf4c1">ldmx::UserActionPlugin</a>.</p>

<p>Definition at line <a class="el" href="TargetProcessFilter_8h_source.html#l00064">64</a> of file <a class="el" href="TargetProcessFilter_8h_source.html">TargetProcessFilter.h</a>.</p>
<div class="fragment"><pre class="fragment">                                     {
                <span class="keywordflow">return</span> <span class="keyword">true</span>;
            }
</pre></div>
</div>
</div>
<a class="anchor" id="a555a9ba60795808e9107821a371bd018"></a><!-- doxytag: member="ldmx::TargetProcessFilter::stackingClassifyNewTrack" ref="a555a9ba60795808e9107821a371bd018" args="(const G4Track *aTrack, const G4ClassificationOfNewTrack &amp;currentTrackClass)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">G4ClassificationOfNewTrack ldmx::TargetProcessFilter::stackingClassifyNewTrack </td>
          <td>(</td>
          <td class="paramtype">const G4Track *&#160;</td>
          <td class="paramname"><em>aTrack</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const G4ClassificationOfNewTrack &amp;&#160;</td>
          <td class="paramname"><em>currentTrackClass</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Classify a new track which postpones track processing. Track processing resumes normally if a target PN interaction occurred. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">aTrack</td><td>The Geant4 track. </td></tr>
    <tr><td class="paramname">currentTrackClass</td><td>The current track classification. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="classldmx_1_1UserActionPlugin.html#a09ebf94cc464f4069f7526479ef455d4">ldmx::UserActionPlugin</a>.</p>

<p>Definition at line <a class="el" href="TargetProcessFilter_8cxx_source.html#l00027">27</a> of file <a class="el" href="TargetProcessFilter_8cxx_source.html">TargetProcessFilter.cxx</a>.</p>
<div class="fragment"><pre class="fragment">                                                                 {

        <span class="comment">/*std::cout &lt;&lt; &quot;********************************&quot; &lt;&lt; std::endl; </span>
<span class="comment">        std::cout &lt;&lt; &quot;*   Track pushed to the stack  *&quot; &lt;&lt; std::endl;</span>
<span class="comment">        std::cout &lt;&lt; &quot;********************************&quot; &lt;&lt; std::endl;*/</span>

        <span class="comment">// get the PDGID of the track.</span>
        <span class="comment">//G4int pdgID = track-&gt;GetParticleDefinition()-&gt;GetPDGEncoding();</span>

        <span class="comment">// Get the particle type.</span>
        G4String particleName = track-&gt;GetParticleDefinition()-&gt;GetParticleName();

        <span class="comment">/*std::cout &lt;&lt; &quot;[ TargetBremFilter ]: &quot; &lt;&lt; &quot;\n&quot; </span>
<span class="comment">                    &lt;&lt; &quot;\tParticle &quot; &lt;&lt; particleName &lt;&lt; &quot; ( PDG ID: &quot; &lt;&lt; pdgID &lt;&lt; &quot; ) : &quot; &lt;&lt; &quot;\n&quot;</span>
<span class="comment">                    &lt;&lt; &quot;\tTrack ID: &quot; &lt;&lt; track-&gt;GetTrackID() &lt;&lt; &quot;\n&quot; </span>
<span class="comment">                    &lt;&lt; std::endl;*/</span>

        <span class="keywordflow">if</span> (track == currentTrack_) {
            currentTrack_ = <span class="keyword">nullptr</span>; 
            <span class="comment">//std::cout &lt;&lt; &quot;[ TargetBremFilter ]: Pushing track to waiting stack.&quot; &lt;&lt; std::endl;</span>
            <span class="keywordflow">return</span> fWaiting; 
        }

        <span class="comment">// Use current classification by default so values from other plugins are not overridden.</span>
        G4ClassificationOfNewTrack classification = currentTrackClass;
        
        <span class="keywordflow">return</span> classification;
    }
</pre></div>
</div>
</div>
<a class="anchor" id="ab7c281885d28d8d3b192ce2e46686279"></a><!-- doxytag: member="ldmx::TargetProcessFilter::stepping" ref="ab7c281885d28d8d3b192ce2e46686279" args="(const G4Step *step)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ldmx::TargetProcessFilter::stepping </td>
          <td>(</td>
          <td class="paramtype">const G4Step *&#160;</td>
          <td class="paramname"><em>step</em></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Implementmthe stepping action which performs the target volume biasing. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">step</td><td>The Geant4 step. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="classldmx_1_1UserActionPlugin.html#acffe3ccbcb1a409c8bfc5e1d5e2d5d04">ldmx::UserActionPlugin</a>.</p>

<p>Definition at line <a class="el" href="TargetProcessFilter_8cxx_source.html#l00058">58</a> of file <a class="el" href="TargetProcessFilter_8cxx_source.html">TargetProcessFilter.cxx</a>.</p>

<p>References <a class="el" href="BiasingMessenger_8h_source.html#l00052">ldmx::BiasingMessenger::getProcess()</a>, and <a class="el" href="BiasingMessenger_8h_source.html#l00031">ldmx::BiasingMessenger::setEventWeight()</a>.</p>
<div class="fragment"><pre class="fragment">                                                         { 

        <span class="keywordflow">if</span> (TargetBremFilter::getBremGammaList().empty() || reactionOccurred_) { 
            <span class="keywordflow">return</span>;
        } 

        <span class="comment">// Get the track associated with this step.</span>
        G4Track* track = step-&gt;GetTrack();

        <span class="comment">// Only process tracks whose parent is the primary particle</span>
        <span class="keywordflow">if</span> (track-&gt;GetParentID() != 1) <span class="keywordflow">return</span>; 

        <span class="comment">// get the PDGID of the track.</span>
        G4int pdgID = track-&gt;GetParticleDefinition()-&gt;GetPDGEncoding();

        <span class="comment">// Make sure that the particle being processed is an electron.</span>
        <span class="keywordflow">if</span> (pdgID != 22) <span class="keywordflow">return</span>; <span class="comment">// Throw an exception</span>

        <span class="comment">// Get the volume the particle is in.</span>
        G4VPhysicalVolume* volume = track-&gt;GetVolume();
        G4String volumeName = volume-&gt;GetName();

        <span class="comment">// If the particle isn&#39;t in the target, don&#39;t continue with the processing.</span>
        <span class="keywordflow">if</span> (volumeName.compareTo(volumeName_) != 0) <span class="keywordflow">return</span>;

        <span class="comment">/*std::cout &lt;&lt; &quot;*******************************&quot; &lt;&lt; std::endl; </span>
<span class="comment">        std::cout &lt;&lt; &quot;*   Step &quot; &lt;&lt; track-&gt;GetCurrentStepNumber() &lt;&lt; std::endl;</span>
<span class="comment">        std::cout &lt;&lt; &quot;********************************&quot; &lt;&lt; std::endl;*/</span>

        <span class="comment">// Get the particle type.</span>
        G4String particleName = track-&gt;GetParticleDefinition()-&gt;GetParticleName();

        <span class="comment">// Get the kinetic energy of the particle.</span>
        <span class="comment">//double incidentParticleEnergy = step-&gt;GetPreStepPoint()-&gt;GetTotalEnergy();</span>

        <span class="comment">/*std::cout &lt;&lt; &quot;[ TargetProcessFilter ]: &quot; &lt;&lt; &quot;\n&quot; </span>
<span class="comment">                    &lt;&lt; &quot;\tTotal energy of &quot; &lt;&lt; particleName      &lt;&lt; &quot; ( PDG ID: &quot; &lt;&lt; pdgID</span>
<span class="comment">                    &lt;&lt; &quot; ) : &quot; &lt;&lt; incidentParticleEnergy       &lt;&lt; &quot;\n&quot;</span>
<span class="comment">                    &lt;&lt; &quot;\tTrack ID: &quot; &lt;&lt; track-&gt;GetTrackID()     &lt;&lt; &quot;\n&quot; </span>
<span class="comment">                    &lt;&lt; &quot;\tStep #: &quot; &lt;&lt; track-&gt;GetCurrentStepNumber() &lt;&lt; &quot;\n&quot;</span>
<span class="comment">                    &lt;&lt; &quot;\tParticle currently in &quot; &lt;&lt; volumeName  &lt;&lt; std::endl;*/</span>
        
        <span class="comment">// </span>
        std::vector&lt;G4Track*&gt; bremGammaList = TargetBremFilter::getBremGammaList();
        <span class="keywordflow">if</span> (std::find(bremGammaList.begin(), bremGammaList.end(), track) == bremGammaList.end()) { 
            <span class="comment">/*std::cout &lt;&lt; &quot;[ TargetProcessFilter ]: &quot;</span>
<span class="comment">                      &lt;&lt; &quot;Brem list doesn&#39;t contain track.&quot; &lt;&lt; std::endl;*/</span>
            currentTrack_ = track; 
            track-&gt;SetTrackStatus(fSuspend);
            <span class="keywordflow">return</span>;
        }

        <span class="comment">// Get the particles daughters.</span>
        <span class="keyword">const</span> G4TrackVector* secondaries = step-&gt;GetSecondary();

        <span class="comment">// If the brem photon doesn&#39;t undergo any reaction in the target, stop</span>
        <span class="comment">// processing the rest of the event. </span>
        <span class="keywordflow">if</span> (secondaries-&gt;size() == 0) {

            <span class="comment">/*std::cout &lt;&lt; &quot;[ TargetProcessFilter ]: &quot;</span>
<span class="comment">                        &lt;&lt; &quot;Brem photon did not interact in the target. --&gt; Postponing tracks.&quot;</span>
<span class="comment">                        &lt;&lt; std::endl;*/</span>
            

            <span class="keywordflow">if</span> (bremGammaList.size() == 1) { 
                track-&gt;SetTrackStatus(fKillTrackAndSecondaries);
                G4RunManager::GetRunManager()-&gt;AbortEvent();
                currentTrack_ = <span class="keyword">nullptr</span>;
                <span class="keywordflow">return</span>;
            } <span class="keywordflow">else</span> {
                currentTrack_ = track; 
                track-&gt;SetTrackStatus(fSuspend);
                TargetBremFilter::removeBremFromList(track);
                <span class="keywordflow">return</span>;
            }
        } <span class="keywordflow">else</span> { 
       
            G4String processName = secondaries-&gt;at(0)-&gt;GetCreatorProcess()-&gt;GetProcessName(); 
            
            <span class="comment">/*std::cout &lt;&lt; &quot;[ TargetProcessFilter ]: &quot;</span>
<span class="comment">                      &lt;&lt; &quot;Brem photon produced &quot; &lt;&lt; secondaries-&gt;size() </span>
<span class="comment">                      &lt;&lt; &quot; particle via &quot; &lt;&lt; processName &lt;&lt; &quot; process.&quot; </span>
<span class="comment">                      &lt;&lt; std::endl;*/</span>

            <span class="comment">// Only record the process that is being biased</span>
            <span class="keywordflow">if</span> (!processName.contains(<a class="code" href="classldmx_1_1BiasingMessenger.html#a22d81c1b0e807e2df5ef690487487b5a">BiasingMessenger::getProcess</a>())) {

                <span class="comment">/*std::cout &lt;&lt; &quot;[ TargetProcessFilter ]: &quot;</span>
<span class="comment">                          &lt;&lt; &quot;Process was not &quot; &lt;&lt; BiasingMessenger::getProcess() &lt;&lt; &quot;--&gt; Killing all tracks!&quot; </span>
<span class="comment">                          &lt;&lt; std::endl;*/</span>
                
                <span class="keywordflow">if</span> (bremGammaList.size() == 1) { 
                    track-&gt;SetTrackStatus(fKillTrackAndSecondaries);
                    G4RunManager::GetRunManager()-&gt;AbortEvent();
                    currentTrack_ = <span class="keyword">nullptr</span>;
                    <span class="keywordflow">return</span>;
                } <span class="keywordflow">else</span> { 
                    currentTrack_ = track; 
                    track-&gt;SetTrackStatus(fSuspend);
                    TargetBremFilter::removeBremFromList(track);
                    <span class="keywordflow">return</span>;
                }
            }

            std::cout &lt;&lt; <span class="stringliteral">&quot;[ TargetProcessFilter ]: &quot;</span>
                      &lt;&lt; <span class="stringliteral">&quot;Brem photon produced &quot;</span> &lt;&lt; secondaries-&gt;size() 
                      &lt;&lt; <span class="stringliteral">&quot; particle via &quot;</span> &lt;&lt; processName &lt;&lt; <span class="stringliteral">&quot; process.&quot;</span> 
                      &lt;&lt; std::endl;
            TargetBremFilter::removeBremFromList(track);
            <a class="code" href="classldmx_1_1BiasingMessenger.html#ade154137d8d23f40a57eb71bfd8e3d90">BiasingMessenger::setEventWeight</a>(track-&gt;GetWeight());
            reactionOccurred_ = <span class="keyword">true</span>;
        }
    }    
</pre></div>
</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>Biasing/include/Biasing/<a class="el" href="TargetProcessFilter_8h_source.html">TargetProcessFilter.h</a></li>
<li>Biasing/src/<a class="el" href="TargetProcessFilter_8cxx_source.html">TargetProcessFilter.cxx</a></li>
</ul>
</div>
<hr class="footer"/><address class="footer"><small>Generated by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </small></address>
</body>
</html>
